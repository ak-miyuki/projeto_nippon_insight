<!DOCTYPE html>
<html lang="pt-br">

<head>
    <!-- <link rel="shortcut icon" href="../assets/icons/mt_fuji_img.png" type="image/x-icon"> -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>『日本』Nippon Insight | Dashboards</title>


    <link rel="stylesheet" href="./../css/dashboards.css">
    <!-- <link rel="stylesheet" href="./../css/estilo.css" /> -->
    <!-- <link rel="stylesheet" href="./../css/style.css" /> -->
    <script src="../js/sessao.js"></script>
    <!-- <script src="./../js/alerta.js"></script> -->


    <!-- scripts do Chart.js - 2022-1 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>


    <!--FONT AWESOME-->
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
</head>

<!-- <body onload=" atualizarFeed()"> -->

<body onload="atualizarPagina()">

    <!------------------------------- HEADER ------------------------------->
    <div class="header">
        <div class="container">
            <h1 class="titulo">『日本』Nippon Insight</h1>
            <ul class="navbar">
                <li>
                    <a href="./dashboard.html">DASHBOARD</a>
                </li>
                <li> | </li>
                <li>
                    <a href="./viagem.html">EDITAR VIAGEM</a>
                </li>
                <li> | </li>
                <li class="agora">
                    <a href="#">ESCOLHAS</a>
                </li>

            </ul>
            <div class="nome-sair">
                <div class="hello">
                    <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
                </div>
                <div>
                    <button class="botao-preto" onclick="limparSessao()">SAIR</button>
                </div>
            </div>

        </div>
    </div>
    <!----------------------------- HEADER END ----------------------------->

    <div class="janela">
        <div class="header-left_escolhas">
            <div class="menu_titulo">
                <h1>Lista de Escolhas</h1>
            </div>

            <div class="conteudo">
                <!-- COLOCAR OS CONTEÚDOS DO MENU -->

                <!-- LUGARES -->
                <div class="menu_block">
                    <h3>&#x1F338; LUGARES:</h3>
                    <span id="span_lugares"> --//-- </span>
                </div>

                <!-- ALIMENTAÇÃO -->
                <div class="menu_block">
                    <h3>&#x1F338; ALIMENTAÇÃO:</h3>
                    <span id="span_alimentacao"> --//-- </span>
                </div>

                <!-- HOSPEDAGEM -->
                <div class="menu_block">
                    <h3>&#x1F338; HOSPEDAGEM:</h3>
                    <span id="span_hospedagem"> --//-- </span>
                </div>

                <!-- TRANSPORTE -->
                <div class="menu_block">
                    <h3>&#x1F338; TRANSPORTE</h3>
                    <span id="span_transporte"> --//-- </span>
                </div>

                <!-- COMUNICAÇÃO -->
                <div class="menu_block">
                    <h3>&#x1F338; COMUNICAÇÃO:</h3>
                    <span id="span_comunicacao"> --//-- </span>
                </div>

            </div>

        </div>

        <div class="opcoes" id="div_escolhas">
            <div id="div_categoria">
                <div class="categoria" id="div_tipo">
                    <!-- <h1>${listaItens.categoria}</h1> -->
                </div>
                <div class="conteudo_info">
                    <div class="foto">
                        <!-- <span id="span_foto">${listaItens.foto}</span> -->
                    </div>
                    <div id="div_info" class="info">
                        <div id="div_nome">
                            <h3>
                                <!-- <span id="span_nome">${listaItens.nome}</span> -->
                            </h3>
                        </div>
                        <div id="div_descricao">
                            <h3>Descrição:</h3>
                            <!-- <span id="span_descricao">${listaItens.descricao}</span> -->
                        </div>
                    </div>
                    <div class="input_qtd">
                        <h3>Preço unitário:</h3>
                        <!-- <span id="span_preco">${listaItens.preco}</span> -->
                        <h3>Quantidade:</h3>
                        <input type="text" id="input_preco${listaItens.idItem}">
                    </div>
                </div>
                <div class="buttons">
                    <button class="botao" id="button_anterior">ANTERIOR</button>
                    <button class="botao" id="button_proximo">PRÓXIMO</button>
                    <button class="botao" onclick="confirmar()">CONFIRMAR</button>
                </div>
            </div>
        </div>
    </div>


</body>

</html>

<script>
    b_usuario.innerHTML = sessionStorage.NOME_USUARIO;
    var idViagem = sessionStorage.VIAGEM;

    var listaCategorias = ['Lugar', 'Transporte', 'Comunicação', 'Hospedagem', 'Alimentação'];

    function atualizarPagina() {


        fetch(`/viagem/buscarItens`)
            .then(response => response.json())
            .then(listaItens => {

                if (listaItens.length === 0) {
                    alert("errinho: listaItens está vazia");
                } else {

                    console.log(listaItens);


                    // var conteudo = "";

                    // for (var i = 0; i < listaCategorias.length; i++) {

                    //     conteudo = `
                    //         <div id="div_categoria">
                    //             <div class="categoria" id="div_tipo">
                    //                 <h1>${listaCategorias[i]}</h1>
                    //             </div>
                    //         <br>
                    //         `

                    //     for (var j = 0; j < listaItens.length; j++) {

                    //         if (listaCategorias[i] == listaItens[j].categoria) {

                    //             conteudo += `
                    //             <div class="conteudo_info">
                    //                 <div class="foto">
                    //                     <span id="span_foto">${listaItens[j].foto}</span>
                    //                 </div>
                    //                 <div id="div_info" class="info">
                    //                     <div id="div_nome">
                    //                         <h3>
                    //                             <span id="span_nome">${listaItens[j].nome}</span>
                    //                         </h3>
                    //                         </div>
                    //                     <div id="div_descricao">
                    //                         <h3>Descrição:</h3>
                    //                             <span id="span_descricao">${listaItens[j].descricao}</span>
                    //                     </div>
                    //                     </div>
                    //                     <div class="input_qtd">
                    //                         <h3>Preço unitário:</h3>
                    //                             <span id="span_preco">${listaItens[j].preco}</span>
                    //                         <h3>Quantidade:</h3>
                    //                         <input type="text" id="input_preco${listaItens[j].idItem}">
                    //                         </div>
                    //                     </div>
                    //                     <div class="buttons">
                                                
                    //                         <button class="botao" id="button_proximo">PRÓXIMO</button>
                    //                     </div>
                    //                 </div>
                    //                                             `
                    //         }
                    //     }
                    // }
                }
            

            })
            .catch (error => console.error('Erro ao buscar dados dos itens:', error));

    // div_escolhas.innerHTML = conteudo;
    }


</script>
